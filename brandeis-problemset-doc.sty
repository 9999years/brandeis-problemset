\usepackage{hypdoc}
\usepackage[
	loadHyperref=false,
	createIndexEntries=false
]{doctools}

\PageIndex

\usepackage{textcomp} % needed for listings
\usepackage{xparse}
\usepackage{hologo} % xetex, etc. logos
\usepackage{xkeyval}

\newcommand{\email}[1]{\href{mailto:#1}{\texttt{#1}}}
\newcommand{\https}[1]{\href{https://#1}{\texttt{#1}}}
\newcommand{\bps}{\ltxclass{brandeis-problemset}}
\newcommand{\cosi}[1]{\textsc{cosi}~#1}
\newcommand{\todo}[1]{\begin{itemize}\item[\textbf{To-do:}] #1 \end{itemize}}
\newcommand{\note}[1]{\begin{itemize}\item[\textbf{Note:}] #1 \end{itemize}}
\newcommand{\ctan}[1]{\href{https://ctan.org/pkg/#1}{\package{#1}}}
\NewExpandableDocumentCommand{\Th}{O{l} m}
	{\multicolumn{1}{#1}{\textbf{#2}}}
\newcommand{\fontspecok}{\hologo{XeLaTeX} or \hologo{LuaTeX}}
\newcommand{\ext}[1]{\texttt{.#1}}
\newcommand{\filename}[1]{\texttt{#1}}

% definition copied from doc package \DescribeMacro
\lstnewenvironment{latexfile}[1]
	{\lstset{style=lstDemoStyleLaTeXCode}%
	}
	{}

\define@cmdkeys{version}{author, version, date, changes}
\define@key{version}{v}{\def\cmdKV@version@version{#1}}
\presetkeys{version}{author={}, version={}, date={}, changes={}}{}
\NewDocumentEnvironment{changelog}{}
	{
	\section{Changelog}
	\NewDocumentEnvironment{version}{m}
		{
		\setkeys{version}{##1}
		\item[\cmdKV@version@version] \cmdKV@version@author\
			(\cmdKV@version@date)
		\begin{itemize}
			\NewDocumentCommand{\added}{}{\item Added\ }
		}
		{
		\end{itemize}
		}
	\NewDocumentCommand{\shortversion}{m}{
		\setkeys{version}{##1}
		\item[\cmdKV@version@version] \cmdKV@version@author\
			(\cmdKV@version@date) --- \cmdKV@version@changes}
	\begin{description}
	}
	{
	\end{description}
	}
